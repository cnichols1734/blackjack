<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIXEL BLACKJACK ‚ô† Arcade Casino</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üÉè</text></svg>">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.47.10/dist/umd/supabase.min.js"></script>
</head>
<body>
    <!-- Auth Screen (Splash) -->
    <div class="auth-screen" id="auth-screen">
        <div class="auth-container">
            <!-- Decorative cards -->
            <div class="floating-cards">
                <span class="float-card">‚ô†</span>
                <span class="float-card">‚ô•</span>
                <span class="float-card">‚ô¶</span>
                <span class="float-card">‚ô£</span>
            </div>
            
            <div class="auth-logo">
                <h1 class="pixel-text auth-title">PIXEL</h1>
                <h1 class="pixel-text auth-title accent">BLACKJACK</h1>
                <div class="auth-subtitle pixel-text">‚ô† ARCADE CASINO ‚ô†</div>
            </div>

            <div class="auth-box">
                <div class="auth-tabs">
                    <button class="auth-tab active pixel-text" id="signin-tab">SIGN IN</button>
                    <button class="auth-tab pixel-text" id="signup-tab">SIGN UP</button>
                </div>

                <!-- Sign In Form -->
                <form class="auth-form" id="signin-form">
                    <div class="input-group">
                        <label class="pixel-text">EMAIL</label>
                        <input type="email" id="signin-email" required placeholder="player@casino.com">
                    </div>
                    <div class="input-group">
                        <label class="pixel-text">PASSWORD</label>
                        <input type="password" id="signin-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="auth-btn pixel-btn">ENTER CASINO</button>
                </form>

                <!-- Sign Up Form -->
                <form class="auth-form hidden" id="signup-form">
                    <div class="input-group">
                        <label class="pixel-text">DISPLAY NAME</label>
                        <input type="text" id="signup-name" required placeholder="HighRoller99">
                    </div>
                    <div class="input-group">
                        <label class="pixel-text">EMAIL</label>
                        <input type="email" id="signup-email" required placeholder="player@casino.com">
                    </div>
                    <div class="input-group">
                        <label class="pixel-text">PASSWORD</label>
                        <input type="password" id="signup-password" required minlength="6" placeholder="Min 6 characters">
                    </div>
                    <button type="submit" class="auth-btn pixel-btn signup-btn">CREATE ACCOUNT</button>
                    <div class="signup-bonus pixel-text">üéÅ GET $1000 FREE CHIPS!</div>
                </form>

                <div class="auth-error pixel-text" id="auth-error"></div>

                <div class="auth-divider">
                    <span class="pixel-text">OR</span>
                </div>

                <button class="guest-btn pixel-btn" id="guest-btn">PLAY AS GUEST</button>
                <div class="guest-note pixel-text">Progress won't be saved</div>
            </div>

            <div class="auth-footer pixel-text">
                ‚ô† ‚ô• ‚ô¶ ‚ô£
            </div>
        </div>
    </div>

    <!-- Game Container -->
    <div class="game-container hidden" id="game-container">
        <!-- Header with neon-style title -->
        <div class="header">
            <div class="header-top">
                <h1 class="pixel-text">PIXEL BLACKJACK</h1>
                <div class="user-profile" id="user-profile">
                    <span class="user-name pixel-text" id="user-name">Guest</span>
                    <button class="logout-btn pixel-btn" id="logout-btn">EXIT</button>
                </div>
            </div>
            <div class="stats">
                <div class="stat-item pixel-text">üí∞ $<span id="balance">1000</span></div>
                <div class="stat-item pixel-text">üéÆ <span id="games-played">0</span></div>
                <div class="stat-item pixel-text">üèÜ <span id="wins">0</span></div>
            </div>
        </div>

        <!-- Casino Table -->
        <div class="table">
            <!-- Dealer's Area -->
            <div class="dealer-section">
                <div class="player-label pixel-text">DEALER</div>
                <div class="hand" id="dealer-hand">
                    <div class="card-placeholder"></div>
                    <div class="card-placeholder"></div>
                </div>
                <div class="hand-value pixel-text" id="dealer-value">0</div>
            </div>

            <!-- Game Status -->
            <div class="game-messages">
                <div class="message pixel-text" id="game-message">PLACE YOUR BET!</div>
                <div class="bet-display pixel-text" id="current-bet">BET: $0</div>
            </div>

            <!-- Player's Area -->
            <div class="player-section">
                <div class="player-label pixel-text">PLAYER</div>
                <div class="hand" id="player-hand">
                    <div class="card-placeholder"></div>
                    <div class="card-placeholder"></div>
                </div>
                <div class="hand-value pixel-text" id="player-value">0</div>
            </div>
        </div>

        <!-- Unified Controls Section -->
        <div class="controls-section">
            <!-- Chip Rack (always visible) -->
            <div class="chip-rack">
                <button class="chip chip-5" data-value="5">$5</button>
                <button class="chip chip-10" data-value="10">$10</button>
                <button class="chip chip-25" data-value="25">$25</button>
                <button class="chip chip-50" data-value="50">$50</button>
                <button class="chip chip-100" data-value="100">$100</button>
            </div>
            
            <!-- Button Container (fixed height, swaps content) -->
            <div class="button-container">
                <!-- Betting Controls -->
                <div class="bet-controls" id="bet-controls">
                    <button class="control-btn pixel-btn" id="clear-bet">CLEAR</button>
                    <button class="control-btn pixel-btn" id="rebet">REBET</button>
                    <button class="control-btn pixel-btn" id="max-bet">MAX</button>
                    <button class="control-btn pixel-btn" id="deal">DEAL</button>
                </div>

                <!-- Game Action Buttons -->
                <div class="game-controls" id="game-controls">
                    <button class="action-btn pixel-btn" id="hit">HIT</button>
                    <button class="action-btn pixel-btn" id="stand">STAND</button>
                    <button class="action-btn pixel-btn" id="double">DOUBLE</button>
                </div>
            </div>
        </div>

        <!-- Rules Toggle -->
        <div class="rules-toggle">
            <button class="pixel-btn" id="toggle-rules">? RULES</button>
        </div>

        <!-- Rules Panel -->
        <div class="rules-panel" id="rules-panel" style="display: none;">
            <h3 class="pixel-text">‚ô† BLACKJACK RULES ‚ô†</h3>
            <ul class="pixel-text">
                <li>Beat the dealer's hand without going over 21</li>
                <li>Face cards (J, Q, K) are worth 10 points</li>
                <li>Aces are worth 1 or 11 points</li>
                <li>Dealer must hit on 16 and stand on 17</li>
                <li>Blackjack (21 with 2 cards) pays 3:2</li>
                <li>Double down doubles your bet for one more card</li>
            </ul>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="game.js"></script>
</body>
</html>
